(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{308:function(t,e,a){t.exports=a.p+"assets/img/fraktal-32-aws-region.2b4e6857.png"},391:function(t,e,a){t.exports=a.p+"assets/img/fraktal-10-install.22d21427.png"},392:function(t,e,a){t.exports=a.p+"assets/img/fraktal-12-perms.bd78c029.png"},393:function(t,e,a){t.exports=a.p+"assets/img/fraktal-14-add-account.ebc45888.png"},394:function(t,e,a){t.exports=a.p+"assets/img/fraktal-20-create-role.baf074dd.png"},395:function(t,e,a){t.exports=a.p+"assets/img/fraktal-22-select-type.86e6d7b9.png"},396:function(t,e,a){t.exports=a.p+"assets/img/fraktal-24-policies-readonly.c52c809f.png"},397:function(t,e,a){t.exports=a.p+"assets/img/fraktal-26-policies-securityaudit.9f7b7407.png"},398:function(t,e,a){t.exports=a.p+"assets/img/fraktal-30-aws-config.bb6badeb.png"},399:function(t,e,a){t.exports=a.p+"assets/img/fraktal-34-aws-config-review.601adda9.png"},400:function(t,e,a){t.exports=a.p+"assets/img/fraktal-40-securityhub.4854761d.png"},401:function(t,e,a){t.exports=a.p+"assets/img/fraktal-42-enable-hub.c6860796.png"},402:function(t,e,a){t.exports=a.p+"assets/img/fraktal-50-guardduty.3ec40c3b.png"},403:function(t,e,a){t.exports=a.p+"assets/img/fraktal-52-enable-guardduty.29d64466.png"},404:function(t,e,a){t.exports=a.p+"assets/img/fraktal-95-uninstall.b76d5ce8.png"},405:function(t,e,a){t.exports=a.p+"assets/img/fraktal-90-delete-role.8cec6872.png"},440:function(t,e,a){"use strict";a.r(e);var n=a(45),o=Object(n.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"fraktal-aws-audit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fraktal-aws-audit"}},[t._v("#")]),t._v(" Fraktal AWS Audit")]),t._v(" "),n("p",[t._v("This app allows you to audit and monitor your Amazon Web Services (AWS) assets for configuration weaknesses and security vulnerabilities automatically and continuously. It has been created in collaboration with our partner Fraktal Ltd, the experts in AWS security.")]),t._v(" "),n("p",[t._v("The app connects to your AWS account(s) with your consent. It then employs AWS Config, AWS Security Hub and Amazon GuardDuty to scan your AWS assets periodically, and provides you with alerts about any critical identified weaknesses and vulnerabilities in your configurations.")]),t._v(" "),n("p",[t._v("The instructions below explain the installation of the app, integration with your AWS environment, how to enable AWS Config, AWS Security Hub and AWS GuardDuty functionalities, and how to grant the minimum permissions for the app to scan your AWS assets.")]),t._v(" "),n("p",[t._v("When the app identifies vulnerabilities, it will provide you with details of the finding and a link to the AWS console to find out more. If you would like to receive expert assistance to mitigate or fix the findings, you can "),n("a",{attrs:{href:"https://www.fraktal.fi/contact",target:"_blank",rel:"noopener noreferrer"}},[t._v("contact Fraktal Ltd"),n("OutboundLink")],1),t._v(" for their professional services.")]),t._v(" "),n("h2",{attrs:{id:"install-the-fraktal-aws-audit-app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install-the-fraktal-aws-audit-app"}},[t._v("#")]),t._v(" Install the Fraktal AWS Audit app")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Open the "),n("a",{attrs:{href:"https://badrap.io/apps/fraktal",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fraktal AWS Audit"),n("OutboundLink")],1),t._v(" app page.")])]),t._v(" "),n("li",[n("p",[t._v("Install the app.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(391)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("The app asks for permission to connect to your AWS account and to create assets to Badrap based on your AWS environment.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(392)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Enter your "),n("a",{attrs:{href:"https://console.aws.amazon.com/billing/home?#/account",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS Account ID"),n("OutboundLink")],1),t._v(" into the "),n("code",[t._v("Account ID")]),t._v(" field.")])]),t._v(" "),n("li",[n("p",[t._v('Create a recognizable role name for the app, e.g. "AWSAuditRole".\n')]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(393)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v('Note down the "External-ID" value that the app creates. You will need it later when creating a role delegation in the AWS console.')])])]),t._v(" "),n("h2",{attrs:{id:"create-aws-role"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-aws-role"}},[t._v("#")]),t._v(" Create AWS role")]),t._v(" "),n("p",[t._v("Configure role delegation for the app with the AWS IAM console.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Create a new role in the "),n("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#/roles",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS IAM console"),n("OutboundLink")],1),t._v(".\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(394)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Select "),n("code",[t._v("Another AWS account")]),t._v(" for the role type.")])]),t._v(" "),n("li",[n("p",[t._v("Enter "),n("code",[t._v("816084135002")]),t._v(" (AWS Audit app Account ID) as the "),n("code",[t._v("Account ID")]),t._v(".")])]),t._v(" "),n("li",[n("p",[t._v("Check the "),n("code",[t._v("Require external ID")]),t._v(" option, and enter the External ID that the app generated for you earlier.")])]),t._v(" "),n("li",[n("p",[t._v("Leave the "),n("code",[t._v("Require MFA")]),t._v(" option unchecked.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(395)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Click "),n("code",[t._v("Next: Permissions")]),t._v(".")])]),t._v(" "),n("li",[n("p",[t._v("Type "),n("code",[t._v("ReadOnlyAccess")]),t._v(" to the policy search bar, scroll down to find the correct policy and select it.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(396)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Type "),n("code",[t._v("SecurityAudit")]),t._v(" to the policy search bar, scroll down to find the correct policy and select it.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(397)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Click "),n("code",[t._v("Next: Tags")]),t._v(".")])]),t._v(" "),n("li",[n("p",[t._v("Click "),n("code",[t._v("Next: Review")]),t._v(".")])]),t._v(" "),n("li",[n("p",[t._v("Name the role (e.g., "),n("code",[t._v("AWSAuditRole")]),t._v(").")])]),t._v(" "),n("li",[n("p",[t._v("Click "),n("code",[t._v("Create role")]),t._v(".")])])]),t._v(" "),n("h2",{attrs:{id:"enable-aws-config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#enable-aws-config"}},[t._v("#")]),t._v(" Enable AWS Config")]),t._v(" "),n("p",[t._v("The app integrates with Amazon's tools AWS Config, Security Hub and GuardDuty to monitor for weaknesses and vulnerabilities in your configurations. You need to enable these features in your AWS console for the app to function properly. First, let's go through how to enable AWS Config.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Go to the "),n("a",{attrs:{href:"https://console.aws.amazon.com/config/home",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS Config"),n("OutboundLink")],1),t._v(" setup page in AWS Console.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(398)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Select your AWS region (e.g. eu-north-1) from the drop-down menu in the right upper corner.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(308)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v('Review the pricing for AWS Config, and then click on either "1-Click setup" or "Get started" to enable and configure AWS Config for your selected region.')])]),t._v(" "),n("li",[n("p",[t._v('Review the configuration and click "Confirm" to enable AWS Config.\n')]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(399)}})]),n("p")])]),t._v(" "),n("p",[t._v("AWS Config is required before you can enable AWS Security Hub or Amazon GuardDuty (next steps).")]),t._v(" "),n("h2",{attrs:{id:"enable-aws-security-hub"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#enable-aws-security-hub"}},[t._v("#")]),t._v(" Enable AWS Security Hub")]),t._v(" "),n("p",[t._v("AWS Security Hub performs checks for security best practices. It automatically detects services that are configured in a way that leaves them vulnerable to attacks. It categorizes its findings into those that need immediate attention and those that can be dealt with later. Let's go through how to enable AWS Security Hub for your AWS services.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Go to the "),n("a",{attrs:{href:"https://console.aws.amazon.com/securityhub/home",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS Security Hub"),n("OutboundLink")],1),t._v(" setup page in AWS Console.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(400)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Select your AWS region (e.g. eu-north-1) from the drop-down menu in the right upper corner.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(308)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v('Review the pricing, and then click on "Go to Security Hub" to enable and configure AWS Security Hub for your selected region. Make sure to turn on "Enable AWS Foundational Security Best Practices" and "Enable CIS AWS Foundations Benchmark".\n')]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(401)}})]),n("p")])]),t._v(" "),n("p",[t._v("Note that it may take up to a few hours before all of the compliance checks of AWS Security Hub are enabled.")]),t._v(" "),n("h2",{attrs:{id:"enable-amazon-guardduty"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#enable-amazon-guardduty"}},[t._v("#")]),t._v(" Enable Amazon GuardDuty")]),t._v(" "),n("p",[t._v("Amazon GuardDuty continuously monitors your AWS account for malicious activity and unauthorised behaviour. Whereas AWS Security Hub is more concerned about compliance and configurations, GuardDuty is more concerned about the runtime behaviour of your systems. You should use both of them to get the best possible results on both configuration and runtime security of your environment. Let's see how to enable Amazon GuardDuty.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Go to the "),n("a",{attrs:{href:"https://console.aws.amazon.com/guardduty/home",target:"_blank",rel:"noopener noreferrer"}},[t._v("Amazon GuardDuty"),n("OutboundLink")],1),t._v(" setup page in AWS Console.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(402)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Select your AWS region (e.g. eu-north-1) from the drop-down menu in the right upper corner.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(308)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v('Click on "Get started" to configure Amazon GuardDuty for your selected region. Review the pricing and click "Enable GuardDuty".\n')]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(403)}})]),n("p")])]),t._v(" "),n("h2",{attrs:{id:"aws-regions-and-accounts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aws-regions-and-accounts"}},[t._v("#")]),t._v(" AWS Regions and Accounts")]),t._v(" "),n("p",[t._v("All of the AWS and Amazon services for security monitoring and posture management are specific to a single AWS account and region.")]),t._v(" "),n("p",[t._v("If you have AWS services running in multiple regions or in multiple AWS accounts, and you want to audit all of them using the Fraktal AWS Audit app, you should repeat the steps above and enable AWS Config, AWS Security Hub and Amazon GuardDuty separately for each region and account that you are interested in.")]),t._v(" "),n("p",[t._v("Decide what accounts and regions you are interested in and start with those. You can start small and turn on checks on a test account or a single region to get acquainted with the AWS and Amazon security services before enabling them on all accounts and regions.")]),t._v(" "),n("p",[t._v("However, remember that it is a common security problem to assume that you have resources only on a specific AWS account or region. The resources that you don’t even know about, let alone have monitoring on, are often the ones that enable attackers to gain access to your environment.")]),t._v(" "),n("h2",{attrs:{id:"uninstalling-the-app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling-the-app"}},[t._v("#")]),t._v(" Uninstalling the app")]),t._v(" "),n("p",[t._v("If you want to stop using the app, you can uninstall it and clean up the role delegation from your AWS IAM console.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Go to the "),n("a",{attrs:{href:"https://badrap.io/apps/fraktal",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fraktal AWS Audit app page"),n("OutboundLink")],1),t._v(" and click "),n("strong",[t._v("Uninstall")]),t._v(".\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(404)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Clean up the app role from your "),n("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#/roles",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS IAM console"),n("OutboundLink")],1),t._v(".")])]),t._v(" "),n("li",[n("p",[t._v("Under the "),n("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#/roles",target:"_blank",rel:"noopener noreferrer"}},[t._v("Roles"),n("OutboundLink")],1),t._v(' section, find and select the role you created earlier (e.g. "AWSAuditRole"), select '),n("strong",[t._v("Delete")]),t._v(" and confirm deletion.\n")]),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{"max-width":"95%",width:"480px"},attrs:{src:a(405)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("Turn off AWS Config, AWS Security Hub and Amazon GuardDuty in AWS Console for all of your accounts and regions, if you wish to stop using them.")])]),t._v(" "),n("li",[n("p",[t._v("That's it, you have successfully uninstalled the Fraktal AWS Audit app and cleaned up its configuration from your AWS installation.")])])])])}),[],!1,null,null,null);e.default=o.exports}}]);